(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[10],{384:function(e,r,t){"use strict";t.r(r);var o=t(14),n=t(23),a=t(35),s=t(34),p=t(36),c=t(0),l=t.n(c),i=t(331),b=t(1),u=t.n(b),g=t(32),d=t.n(g),f=t(4),m=t(101);function y(){return(y=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function h(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var x=function(e,r){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(t[o[n]]=e[o[n]])}return t},k=function(e){return c.createElement(m.a,null,(function(r){var t,o,n=r.getPrefixCls,a=e.prefixCls,s=e.className,p=e.color,l=void 0===p?"":p,i=e.children,b=e.pending,g=e.dot,d=e.label,m=x(e,["prefixCls","className","color","children","pending","dot","label"]),k=n("timeline",a),v=u()((h(t={},"".concat(k,"-item"),!0),h(t,"".concat(k,"-item-pending"),b),t),s),q=u()((h(o={},"".concat(k,"-item-head"),!0),h(o,"".concat(k,"-item-head-custom"),g),h(o,"".concat(k,"-item-head-").concat(l),!0),o));return c.createElement("li",y({},Object(f.a)(m,["position"]),{className:v}),d&&c.createElement("div",{className:"".concat(k,"-item-label")},d),c.createElement("div",{className:"".concat(k,"-item-tail")}),c.createElement("div",{className:q,style:{borderColor:/blue|red|green|gray/.test(l)?void 0:l}},g),c.createElement("div",{className:"".concat(k,"-item-content")},i))}))};k.defaultProps={color:"blue",pending:!1,position:""};var v=k;function q(e){return(q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(){return(z=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function w(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function j(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return O(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function A(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function S(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,r){return!r||"object"!==q(r)&&"function"!==typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):r}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,r){return(N=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}var P=function(e,r){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(t[o[n]]=e[o[n]])}return t},_=function(e){!function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&N(e,r)}(s,e);var r,t,o,n,a=(r=s,function(){var e,t=T(r);if(C()){var o=T(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return E(this,e)});function s(){var e;return A(this,s),(e=a.apply(this,arguments)).renderTimeline=function(r){var t,o=r.getPrefixCls,n=r.direction,a=e.props,s=a.prefixCls,p=a.pending,l=void 0===p?null:p,i=a.pendingDot,b=a.children,g=a.className,f=a.reverse,m=a.mode,y=P(a,["prefixCls","pending","pendingDot","children","className","reverse","mode"]),h=o("timeline",s),x="boolean"===typeof l?null:l,k=l?c.createElement(v,{pending:!!l,dot:i||c.createElement(d.a,null)},x):null,q=f?[k].concat(j(c.Children.toArray(b).reverse())):[].concat(j(c.Children.toArray(b)),[k]),O=function(e,r){return"alternate"===m?"right"===e.props.position?"".concat(h,"-item-right"):"left"===e.props.position?"".concat(h,"-item-left"):"".concat(h,r%2===0?"-item-left":"-item-right"):"left"===m?"".concat(h,"-item-left"):"right"===m||"right"===e.props.position?"".concat(h,"-item-right"):""},A=q.filter((function(e){return!!e})),S=c.Children.count(A),E="".concat(h,"-item-last"),C=c.Children.map(A,(function(e,r){var t=r===S-2?E:"",o=r===S-1?E:"";return c.cloneElement(e,{className:u()([e.props.className,!f&&l?t:o,O(e,r)])})})),T=q.some((function(e){var r;return!!(null===(r=null===e||void 0===e?void 0:e.props)||void 0===r?void 0:r.label)})),N=u()(h,(w(t={},"".concat(h,"-pending"),!!l),w(t,"".concat(h,"-reverse"),!!f),w(t,"".concat(h,"-").concat(m),!!m&&!T),w(t,"".concat(h,"-label"),T),w(t,"".concat(h,"-rtl"),"rtl"===n),t),g);return c.createElement("ul",z({},y,{className:N}),C)},e}return t=s,(o=[{key:"render",value:function(){return c.createElement(m.a,null,this.renderTimeline)}}])&&S(t.prototype,o),n&&S(t,n),s}(c.Component);_.Item=v,_.defaultProps={reverse:!1,mode:""};var I=_,M={name:"clock-circle",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]}},R=t(52),D=function(e,r){return c.createElement(R.a,Object.assign({},e,{ref:r,icon:M}))};D.displayName="ClockCircleOutlined";var V=c.forwardRef(D),Y=function(e){function r(e){var t;return Object(o.a)(this,r),(t=Object(a.a)(this,Object(s.a)(r).call(this,e))).state={data:[{createdAt:"2019-11-11 10:57",updatedAt:"2020-03-01 18:16",id:7,title:"blog \u8fc1\u79fb\u5230 http://xiangxi.red/doc",readedCount:64,author:"gong",summary:"\u8fc1\u79fb",category:["\u524d\u7aef"],tag:["JS"],content:'<p><a href="http://xiangxi.red/doc" target="_self">doc</a>&nbsp;</p>\n'},{createdAt:"2019-04-15 22:27",updatedAt:"2020-03-01 12:11",id:6,title:"event loop \u56de\u7b54\u5f97\u6700\u96be\u53d7\u7684\u4e00\u6b21\u9762\u8bd5",readedCount:153,author:"Gong",summary:"\u8bb0\u4e00\u6b21\u6700\u8fd1\u9762\u8bd5\u4e2d\u7684 event loop",category:["\u9762\u8bd5"],tag:["JS"],content:'<p>\u524d\u7aef\u9762\u8bd5\u57fa\u672c\u4e0a\u90fd\u4f1a\u95ee event loop\uff0c\u6211\u4eec\u4e5f\u90fd\u77e5\u9053 event loop \u662f\u600e\u4e48\u56de\u4e8b\uff0c\u4e0d\u5c31\u662f\u4e00\u4e2a\u540c\u6b65\u4efb\u52a1\u3001\u4e00\u4e2a\u5f02\u6b65\u4efb\u52a1\u561b\uff0c\u591a\u7b80\u5355\u5450\uff0c</p>\n<p>\u7136\u800c~~~</p>\n<blockquote>\u9762\u8bd5\u5b98\uff1a\u8bf4\u8bf4 event loop</blockquote>\n<blockquote>\u6211\uff1a\u56e0\u4e3a js \u662f\u5355\u7ebf\u7a0b\uff0c</blockquote>\n<blockquote>\u9762\u8bd5\u5b98\uff08\u6253\u65ad\uff09\uff1a\u4e3a\u4ec0\u4e48 js  \u662f\u5355\u7ebf\u7a0b  \uff1f</blockquote>\n<blockquote>\u6211\uff1a emmmmmmmmmm \uff08\u6700\u540e\u53ea\u80fd\u4ee5\u4e0d\u592a\u6e05\u695a\u7ed3\u5c3e...\uff09</blockquote>\n<blockquote>\u9762\u8bd5\u5b98\uff1a\u7ee7\u7eed\u8bf4 event loop</blockquote>\n<blockquote>\u6211\uff1a\u4f1a\u5148\u628a\u540c\u6b65\u4efb\u52a1\u63a8\u5230\u6267\u884c\u6808\u91cc\u53bb\u6267\u884c\uff0c\u5f02\u6b65\u4efb\u52a1\u8fdb\u5165\u4efb\u52a1\u961f\u5217\u4e2d\uff0c</blockquote>\n<blockquote>\u9762\u8bd5\u5b98\uff08\u6253\u65ad\uff09\uff1a\u4ec0\u4e48\u662f\u540c\u6b65\u4efb\u52a1 \uff1f\u4ec0\u4e48\u662f\u5f02\u6b65\u4efb\u52a1 \uff1f</blockquote>\n<blockquote>\u6211\uff1a<span style="color: rgba(0,0,0,0.65);background-color: rgb(255,255,255);font-size: 14px;">emmmmmmmmmm \uff08\u8bf4\u4e0d\u6e05\u695a\uff09</span>&nbsp;</blockquote>\n<blockquote><span style="color: rgba(0,0,0,0.65);background-color: rgb(255,255,255);font-size: 14px;">\u9762\u8bd5\u5b98\uff1a\u7ee7\u7eed\u8bf4 event loop</span>&nbsp;</blockquote>\n<blockquote>\u6211\uff1a<span style="color: rgba(0,0,0,0.65);background-color: rgb(255,255,255);font-size: 14px;">\u5f53\u6267\u884c\u6808\u4e2d\u7684\u540c\u6b65\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5\u540e\u5c31\u53bb\u4f1a\u53bb\u67e5\u770b\u4efb\u52a1\u961f\u5217\u4e2d\u6709\u6ca1\u6709\u5f85\u6267\u884c\u7684\u5fae\u4efb\u52a1</span> \uff0c</blockquote>\n<blockquote>\u9762\u8bd5\u5b98\uff08\u6253\u65ad\uff09\uff1a\u4ec0\u4e48\u662f\u5fae\u4efb\u52a1 \uff1f</blockquote>\n<blockquote>\u6211\uff1aemmmmmmmmmm \uff08\u8bf4\u4e0d\u6e05\u695a\uff09</blockquote>\n<blockquote>\u9762\u8bd5\u5b98\uff1a<span style="color: rgba(0,0,0,0.65);background-color: rgb(255,255,255);font-size: 14px;">\u7ee7\u7eed</span></blockquote>\n<blockquote><span style="color: rgba(0,0,0,0.65);background-color: rgb(255,255,255);font-size: 14px;">\u6211\uff1a\u4f1a\u5148\u53bb\u4efb\u52a1\u961f\u91cc\u4e2d\u67e5\u770b\u6709\u6ca1\u6709\u5f85\u6267\u884c\u7684\u5fae\u4efb\u52a1\uff0c\u6709\u5fae\u4efb\u52a1\u5c31\u5148\u6267\u884c\u5fae\u4efb\u52a1\uff0c\u6ca1\u6709\u5fae\u4efb\u52a1\u5c31\u53bb\u67e5\u627e\u6709\u6ca1\u6709\u5b8f\u4efb\u52a1\uff0c\u6709\u5b8f\u4efb\u52a1\u5c31\u6267\u884c\u5b8f\u4efb\u52a1</span></blockquote>\n<p><span style="color: rgba(0,0,0,0.65);background-color: rgb(255,255,255);font-size: 14px;">\u81f3\u6b64\u7b97\u662f\u56de\u7b54\u5b8c\u4e86\uff0c\u4f46\u662f\u56de\u7b54\u7684\u8fc7\u7a0b\u597d\u96be\u53d7\u554a\uff0c\u4e5f\u770b\u51fa\u6765\u4e86\uff0c\u6bcf\u5f53\u6211\u8bf4\u51fa\u4e2a\u6982\u5ff5\u7684\u65f6\u5019\u9762\u8bd5\u5b98\u5c31\u4f1a\u902e\u7740\u8fd9\u4e2a\u6982\u5ff5\u95ee\uff0c\u4ec0\u4e48\u662f xxx \uff1f \u4e3a\u4ec0\u4e48\u662f xxx \uff1f</span></p>\n<p><span style="color: rgba(0,0,0,0.65);background-color: rgb(255,255,255);font-size: 14px;">\u4e5f\u662f\u81ea\u5df1\u57fa\u7840\u4e0d\u7262\u56fa\uff0c\u6240\u4ee5\u624d\u4f1a\u89c9\u5f97\u96be\u53d7</span></p>\n<p><span style="color: rgb(209,72,65);background-color: rgb(255,255,255);font-size: 14px;">\u6240\u4ee5\u554a\uff0c\u4e0d\u4f46\u8981\u77e5\u5176\u7136\u4e5f\u8981\u77e5\u5176\u6240\u4ee5\u7136\u554a\uff0c\u5728\u4e4b\u540e\u7684\u5b66\u4e60\u8fc7\u7a0b\u4e2d\u8981\u94ed\u8bb0\u8fd9\u70b9\u3002</span></p>\n<p><span style="color: rgba(0,0,0,0.65);background-color: rgb(255,255,255);font-size: 14px;">\u90a3\u4e48\u6765\u597d\u597d\u8bf4\u9053\u8bf4\u9053\u8fd9\u4e2a event loop</span></p>\n<h3><span style="color: rgba(0,0,0,0.85);background-color: rgb(255,255,255);">\u4e8c\u3001\u4e3a\u4ec0\u4e48 js \u662f\u5355\u7ebf\u7a0b \uff1f</span></h3>\n<p>javascript \u7684\u4e00\u5927\u7279\u70b9\u5c31\u662f\u5355\u7ebf\u7a0b\uff0c\u4e5f\u5c31\u662f\u8bf4\u540c\u4e00\u65f6\u95f4\u53ea\u80fd\u505a\u4e00\u4ef6\u4e8b\u4ef6\uff0c\u90a3\u4e48\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u662f\u591a\u7ebf\u7a0b\u5462 \uff1f \u8fd9\u6837\u4e0d\u662f\u8fd8\u80fd\u63d0\u5347\u6548\u7387\u5417 \uff1f</p>\n<p>js \u4e3a\u5355\u7ebf\u7a0b\uff0c\u4e3b\u8981\u548c\u5b83\u7684\u7528\u9014\u6709\u5173\uff0cjs \u7684\u4e3b\u8981\u7528\u9014\u662f\u4e0e\u7528\u6237\u4e92\u52a8\u3001\u64cd\u4f5c dom \uff0c\u8fd9\u51b3\u5b9a\u4e86\u5b83\u53ea\u80fd\u662f\u5355\u7ebf\u7a0b\uff0c\u5426\u5219\u4f1a\u5e26\u6765\u590d\u6742\u7684\u540c\u6b65\u95ee\u9898\uff0cjs \u662f\u591a\u7ebf\u7a0b\u7684\u8bdd\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u5728 dom \u6dfb\u52a0\u5185\u5bb9\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u5220\u9664 dom\uff0c\u8fd9\u4e24\u4e2a\u7ebf\u7a0b\u540c\u65f6\u6267\u884c\u7684\u8bdd\uff0c\u8fd9\u65f6\u5019\u6d4f\u89c8\u5668\u4ee5\u54ea\u4e2a\u7ebf\u7a0b\u4e3a\u51c6\u5462 \uff1f</p>\n<p>\u4e3a\u4e86\u907f\u514d\u590d\u6742\u6027\uff0cjs \u8bbe\u8ba1\u7684\u65f6\u5019\u5c31\u662f\u6309\u5355\u7ebf\u7a0b\u8bbe\u8ba1\u7684\u3002</p>\n<p>\u4e3a\u4e86\u5229\u7528\u591a\u6838 CPU \u7684\u8ba1\u7b97\u529f\u80fd\uff0cHTML \u63d0\u51fa\u7684 web worker \u6807\u51c6\u3002\u5141\u8bb8 js \u521b\u5efa\u591a\u7ebf\u7a0b\uff0c\u4f46\u662f\u5b50\u7ebf\u7a0b\u5b8c\u5168\u53d7\u4e3b\u7ebf\u7a0b\u63a7\u5236\uff0c\u4e14\u4e0d\u5f97\u64cd\u4f5c dom\u3002\u6240\u4ee5\u8fd9\u4e2a\u6807\u51c6\uff0c\u5e76\u6ca1\u6709\u6539\u53d8 js \u662f\u5355\u7ebf\u7a0b\u7684\u672c\u8d28\u3002</p>\n<h3>\u4e8c\u3001\u4efb\u52a1\u961f\u5217</h3>\n<p>\u5355\u7ebf\u7a0b\u5c31\u610f\u5473\u7740\uff0c\u6240\u6709\u7684\u4efb\u52a1\u9700\u8981\u6392\u961f\uff0c\u524d\u4e00\u4e2a\u4eba\u4efb\u52a1\u7ed3\u675f\u540e\uff0c\u624d\u80fd\u6267\u884c\u540e\u4e00\u4e2a\u4efb\u52a1\uff0c\u3002\u5982\u679c\u524d\u4e00\u4e2a\u4efb\u52a1\u6267\u884c\u8017\u65f6\u5f88\u957f\uff0c\u540e\u4e00\u4e2a\u4efb\u52a1\u5c31\u4e0d\u5f97\u4e0d\u4e00\u76f4\u7b49\u5f85\u3002\u5982\u679c\u6392\u961f\u662f\u56e0\u4e3a\u8ba1\u7b97\u91cf\u5927\uff0ccpu \u5fd9\u4e0d\u8fc7\u6765\uff0c\u4e5f\u5c31\u7b97\u4e86\uff0c\u4f46\u5f88\u591a\u65f6\u5019 cpu \u662f\u95f2\u7740\u7684\uff0c\u56e0\u4e3a IO\u8bbe\u5907\uff08\u8f93\u5165\u548c\u8f93\u51fa\u8bbe\u5907\uff09\u6bd4\u5982 ajax\u8bf7\u6c42\u3001IO\uff0c\u4e0d\u5f97\u4e0d\u7b49\u5f85\u6267\u884c\u7ed3\u679c\u51fa\u6765\uff0c\u518d\u5f80\u4e0b\u6267\u884c\u3002</p>\n<p>\u6240\u4ee5\u8bbe\u8ba1\u6210\uff0c\u6709 IO \u8bbe\u7f6e\u7684\u65f6\u5019\u4e0b\u6302\u8d77\u4efb\u52a1\uff0c\u4e3b\u7ebf\u7a0b\u5148\u6267\u884c\u540e\u9762\u7684\u4efb\u52a1\uff0c\u7b49 IO \u6709\u7ed3\u679c\u4e86\uff0c\u518d\u56de\u8fc7\u5934\u6765\u628a\u6302\u8d77\u7684\u4efb\u52a1\u6267\u884c\u4e0b\u53bb\u3002</p>\n<p>\u4e8e\u662f\u4e4e\uff0c\u4efb\u52a1\u5206\u4e3a\u4e86\u4e24\u79cd\uff1a\u540c\u6b65\u4efb\u52a1\u3001\u5f02\u6b65\u4efb\u52a1\u3002</p>\n<p><span style="color: rgb(209,72,65);">\u540c\u6b65\u4efb\u52a1</span>\uff1a\u5728\u4e3b\u7ebf\u7a0b\u4e0a\u6392\u961f\u7684\u4efb\u52a1\uff0c\u53ea\u6709\u524d\u4e00\u4e2a\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5\uff0c\u624d\u80fd\u6267\u884c\u4e0b\u4e00\u4e2a\u4efb\u52a1\u3002</p>\n<p><span style="color: rgb(209,72,65);">\u5f02\u6b65\u4efb\u52a1</span>\uff1a\u4e0d\u8fdb\u5165\u4e3b\u7ebf\u7a0b\uff0c\u800c\u662f\u8fdb\u5165\u2018\u4efb\u52a1\u961f\u5217\u2019\uff08task queue\uff09\u7684\u4efb\u52a1\uff0c\u4e3b\u7ebf\u7a0b\u4e2d\u7684\u540c\u6b65\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5\u7684\u65f6\u5019\u624d\u4f1a\u5230\u4efb\u52a1\u961f\u91cc\u67e5\u6709\u6ca1\u6709\u5f85\u6267\u884c\u7684\u5fae\u4efb\u52a1\uff0c\u6709\u5f85\u6267\u884c\u7684\u5fae\u4efb\u52a1\u5c31\u6267\u884c\u5fae\u4efb\u52a1\uff0c\u5fae\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u5c31\u67e5\u770b\u6709\u6ca1\u6709\u5f85\u6267\u884c\u7684\u5b8f\u4efb\u52a1\uff0c\u6709\u5f85\u6267\u884c\u7684\u5b8f\u4efb\u52a1\u5c31\u6267\u884c\u5b8f\u4efb\u52a1\u3002</p>\n<pre>\uff081\uff09\u6240\u6709\u540c\u6b65\u4efb\u52a1\u90fd\u5728\u4e3b\u7ebf\u7a0b\u4e0a\u6267\u884c\uff0c\u5f62\u6210\u4e00\u4e2a\u6267\u884c\u6808\uff08execution context stack\uff09\u3002<br><br>\uff082\uff09\u4e3b\u7ebf\u7a0b\u4e4b\u5916\uff0c\u8fd8\u5b58\u5728\u4e00\u4e2a"\u4efb\u52a1\u961f\u5217"\uff08task queue\uff09\u3002\u53ea\u8981\u5f02\u6b65\u4efb\u52a1\u6709\u4e86\u8fd0\u884c\u7ed3\u679c\uff0c\u5c31\u5728"\u4efb\u52a1\u961f\u5217"\u4e4b\u4e2d\u653e\u7f6e\u4e00\u4e2a\u4e8b\u4ef6\u3002<br><br>\uff083\uff09\u4e00\u65e6"\u6267\u884c\u6808"\u4e2d\u7684\u6240\u6709\u540c\u6b65\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5\uff0c\u7cfb\u7edf\u5c31\u4f1a\u8bfb\u53d6"\u4efb\u52a1\u961f\u5217"\uff0c\u770b\u770b\u91cc\u9762\u6709\u54ea\u4e9b\u4e8b\u4ef6\u3002\u90a3\u4e9b\u5bf9\u5e94\u7684\u5f02\u6b65\u4efb\u52a1\uff0c\u4e8e\u662f\u7ed3\u675f\u7b49\u5f85\u72b6\u6001\uff0c\u8fdb\u5165\u6267\u884c\u6808\uff0c\u5f00\u59cb\u6267\u884c\u3002<br><br>\uff084\uff09\u4e3b\u7ebf\u7a0b\u4e0d\u65ad\u91cd\u590d\u4e0a\u9762\u7684\u7b2c\u4e09\u6b65\u3002</pre>\n<p>\u4ec0\u4e48\u662f\u5b8f\u4efb\u52a1\u3001\u5fae\u4efb\u52a1 \uff1f</p>\n<p>\u7528\u4f8b\u5b50\u52a0\u6df1\u5de9\u56fa new promise\u3001promise.reslove settimeout</p>\n<p>\u660e\u5929\u8865\u4e0a~</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n'},{createdAt:"2019-04-13 15:21",updatedAt:"2020-03-01 12:43",id:5,title:"\u9762\u8bd5\u9898\u7684\u7ec6\u56bc\u6162\u54bd\uff0c\u771f\u9999\u554a",readedCount:95,author:"Gong",summary:"\u4f60\u89c9\u5f97\u53ef\u4ee5\u4ece const let \u804a\u5230\u5185\u5b58\u5206\u914d\u3001\u5783\u573e\u56de\u6536\u3001\u6d45\u62f7\u8d1d\u3001\u6df1\u62f7\u8d1d\u3001\u95ed\u5305\u3001\u539f\u578b\u3001\u9632\u6296\u3001\u8282\u6d41 \u5417 \uff1f",category:["\u9762\u8bd5"],tag:["JS"],content:'<h2>Q\uff1a</h2>\n<pre>var a = {n: 1}<br>var b = a<br>a.x = a = {n: 2}<br>console.log(a.x)<br>console.log(b.x)</pre>\n<h2>A\uff1a</h2>\n<h2><span style="color: rgb(73,73,73);background-color: rgb(255,255,255);font-size: 14px;font-family: Arial, Helvetica, sans-serif;">\u5728js\u5f15\u64ce\u4e2d\u5bf9\u53d8\u91cf\u7684\u5b58\u50a8\u4e3b\u8981\u6709\u4e24\u79cd\u4f4d\u7f6e\uff1a\u6808\u5185\u5b58\u3001\u5806\u5185\u5b58\u3002\u57fa\u7840\u6570\u636e\u7c7b\u578b\uff1a\u6808\u5185\u5b58\u3001\u590d\u6742\u6570\u636e\u7c7b\u578b\uff1a\u5806\u5185\u5b58\u3002\u590d\u6742\u6570\u636e\u7c7b\u578b\u4fdd\u5b58\u7684\u53ea\u662f\u4e00\u4e2a\u6307\u5411\u5806\u5185\u5b58\u7684\u4e00\u4e2a\u6307\u9488\u3002</span></h2>\n<p><span style="font-family: monospace;">1. <code>var a = {n: 1}</code></span> \uff0c\u8868\u793a\u5728\u5806\u5185\u5b58\u4e2d\u5206\u914d\u7a7a\u95f4\u4fdd\u5b58 <span style="font-family: monospace;"><code>{n: 1}</code></span> ,  <span style="font-family: monospace;"><code>a</code></span> \u4fdd\u5b58\u7684\u662f\u5bf9\u8be5\u5806\u5185\u5b58\u5730\u5740\u7684\u6307\u9488</p>\n<img src="https://upload-images.jianshu.io/upload_images/7256750-43f3e3c22d66861a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="undefined" style="float:left;height: auto;width: auto"/>\n<p><span style="font-family: monospace;">2. <code>var b = a</code></span>\uff0c<span style="font-family: monospace;"><code>a</code></span> \u8d4b\u503c\u7ed9 <span style="font-family: monospace;"><code>b</code></span>\uff0c<span style="font-family: monospace;"><code>b</code></span> \u6307\u9488\u4e5f\u6307\u5411\u5806\u5185\u5b58\u4e2d\u7684  <span style="font-family: monospace;"><code>{n: 1}</code></span>&nbsp;</p>\n<img src="https://upload-images.jianshu.io/upload_images/7256750-bb354eb8908c097b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="undefined" style="float:left;height: auto;width: auto"/>\n<p>3.  <span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;">a.x = a = {n: 2}</span>  \u8d4b\u503c\u662f\u4ece\u53f3\u5230\u5de6\uff0c\u4f46\u662f<code>.</code><span style="color: rgb(36,41,46);background-color: rgb(255,255,255);font-size: 14px;">\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e</span><code>=</code><span style="color: rgb(36,41,46);background-color: rgb(255,255,255);font-size: 14px;">\uff0c\u6240\u4ee5\u5148\u6267\u884c</span><code>a.x</code><span style="color: rgb(36,41,46);background-color: rgb(255,255,255);font-size: 14px;">\uff0c\u5806\u5185\u5b58\u4e2d\u7684</span><code>{n: 1}</code><span style="color: rgb(36,41,46);background-color: rgb(255,255,255);font-size: 14px;">\u5c31\u4f1a\u53d8\u6210</span><code>{n: 1, x: undefined}</code><span style="color: rgb(36,41,46);background-color: rgb(255,255,255);font-size: 14px;">\uff0c\u6539\u53d8\u4e4b\u540e\u76f8\u5e94\u7684</span><code>b.x</code><span style="color: rgb(36,41,46);background-color: rgb(255,255,255);font-size: 14px;">\u4e5f\u53d8\u5316\u4e86\uff0c\u56e0\u4e3a\u6307\u5411\u7684\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61\u3002\u6b64\u65f6\u7684 </span><span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;">a.x</span>  \u6307\u7684\u662f\u5806\u5185\u5b58\u4e2d <span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;font-family: monospace;">a\u3001</span></p>\n<img src="https://upload-images.jianshu.io/upload_images/7256750-57ce8c3b9aa1d3fb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="undefined" style="float:left;height: auto;width: auto"/>\n<p>\u6267\u884c\u5b8c <code>.</code>\u8fd0\u7b97\u7b26\u540e\u518d\u6765\u8ba1\u7b97  <span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;font-family: monospace;">=</span>  \u8d4b\u503c\u8fd0\u7b97\u7b26\uff0c<span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;">a = {n: 2}</span> \uff0c\u6b64\u65f6\u5728\u5806\u5185\u5b58\u5728\u5206\u914d\u7684\u65b0\u7a7a\u95f4\u4fdd\u5b58  <span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;">{n: 2}</span>  \uff0c\u8d4b\u503c\u7ed9 <code>a</code> \uff0c <span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;font-family: monospace;">a</span> \u7684\u6307\u9488\u6307\u5411\u8be5\u65b0\u5806\u4e2d\u5730\u5740</p>\n<img src="https://upload-images.jianshu.io/upload_images/7256750-1f6bf97c40007f4a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="undefined" style="float:left;height: auto;width: auto"/>\n<p>\u8d4b\u503c\u8fd0\u7b97 <code>= </code>\u8fd4\u56de\u7684\u662f \u53f3\u8fb9\u7684\u503c\uff0c\u6240\u4ee5\u628a <span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;">{n: 2}</span> \u8d4b\u503c\u7ed9 <span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;">a.x</span> \uff0c\u4e4b\u524d\u4e5f\u8bf4\u4e86<span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;">a.x</span>  \u6307\u7684\u662f\u4e4b\u524d<code> a\u3001b</code> \u6240\u5171\u540c\u6307\u5411\u5185\u5b58\u5730\u5740\u4e2d\u7684 <code>x </code> \u503c\uff0c\u4e5f\u5c31\u662f\uff0c\u4e5f\u5c31\u662f<code> b.x</code></p>\n<img src="https://upload-images.jianshu.io/upload_images/7256750-a1602f0df62ef0ad.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="undefined" style="float:left;height: auto;width: auto"/>\n<h3>\u5173\u952e\u70b9\uff1a\u7b80\u5355\u6570\u636e\u7c7b\u578b\u548c\u590d\u6742\u6570\u636e\u7c7b\u578b\u5728\u5185\u5b58\u4e2d\u7684\u5b58\u50a8\uff0c\u8fd0\u7b97\u7b26 <code>.</code> <code> =</code> \u6267\u884c\u7684\u5148\u540e\u987a\u5e8f\uff0c\u6267\u884c  <span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;">a.x</span>  \u7684\u65f6\u5019 <span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;">a.x</span>  \u6307\u7684\u662f  <span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;font-family: monospace;">a\u3001b</span>  \u6240\u6307\u7684\u5806\u5185\u5b58\u4e2d\u7684 <span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;">x</span>   \u503c\uff0c\u540e\u9762\u8d4b\u503c\u7684\u65f6\u5019\u6539\u53d8\u7684\u4e5f\u5c31\u662f\u8be5\u5806\u5185\u5b58\u4e2d\u7684 <span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;">x</span> \u503c</h3>\n<h2 style="text-align:start;"></h2>\n<h2 style="text-align:left;"><span style="color: rgba(0,0,0,0.85);background-color: rgb(255,255,255);">Q\uff1aconst\u3001let \u7684\u533a\u522b\uff1fconst \u5b9a\u4e49\u7684\u503c\u80fd\u4e0d\u80fd\u66f4\u53d8 \uff1f \u4e3a\u4ec0\u4e48 \uff1f</span></h2>\n<h2><span style="color: rgba(0,0,0,0.85);background-color: rgb(255,255,255);">A: </span></h2>\n<p><span style="color: rgba(0,0,0,0.65);background-color: rgb(255,255,255);font-size: 14px;">\u5927\u5bb6\u90fd\u77e5\u9053const\u7528\u6765\u5b9a\u4e49\u5e38\u91cf\uff0clet\u7528\u6765\u5b9a\u4e49\u53d8\u91cf\u3002\u5bf9\u4e8econst\u5b9a\u4e49\u7684\u5e38\u91cf\u80fd\u4e0d\u80fd\u6539\u53d8\u5f97\u5206\u4e24\u79cd\u60c5\u51b5\u3002</span> const \u5b9a\u4e49\u7684\u4e3a\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u5219\u4e0d\u80fd\u6539\u53d8\uff0c\u5b9a\u4e49\u7684\u4e3aobject\u7c7b\u578b\u5219\u53ef\u4ee5\u4fee\u6539\u5c5e\u6027\u3002</p>\n<p><span style="color: rgb(209,72,65);">why  \uff1f</span></p>\n<p><span style="font-family: Times New Roman;">\u4e0a\u9762\u4e5f\u8bf4\u5230\uff0c\u57fa\u7840\u7c7b\u578b\u662f\u5b58\u50a8\u5728\u6808\u5185\u5b58\u91cc\uff0c\u590d\u6742\u7c7b\u578b\u662f\u5b58\u50a8\u5728\u5806\u5185\u5b58\u91cc\u3002\u6808\u5185\u5b58\u4e2d\u7684\u53d8\u91cf\u5927\u5c0f\u662f\u5df2\u77e5\u7684\u6216\u8005\u662f\u6709\u8303\u56f4\u4e0a\u9650\u7684\uff0c\u800c\u5806\u5185\u5b58\u4e2d\u7684\u5bf9\u8c61\u5927\u5c0f\u662f\u672a\u77e5\u7684\uff0c\u8fd9\u5927\u6982\u4e5f\u662f <code>null</code></span>&nbsp;</p>\n<p><span style="font-family: Times New Roman;">\u4e3a\u4ec0\u4e48\u5b58\u50a8\u5728\u6808\u5185\u5b58\u4e2d\u7684\u539f\u56e0\uff08\u4e2a\u4eba\u731c\u6d4b\uff09\uff1b\u6211\u4eec <code>const obj = { a: 1 }</code> \u5b9a\u4e49\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u8be5\u5e38\u91cf <code>obj </code>\u4fdd\u5b58\u7684\u662f\u5bf9\u5806\u5185\u5b58\u7684\u6307\u9488\uff0c\u6211\u4eec\u6539\u53d8 <code>a</code> \u7684\u503c\u5e76\u4e0d\u4f1a\u6539\u53d8</span><span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;font-family: monospace;">obj</span> \u7684\u6307\u9488</p>\n<p>\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u6539\u53d8\u5c5e\u6027 <code>a</code> \u7684\u503c\u3002<span style="color: rgba(0,0,0,0.65);background-color: rgb(241,241,241);font-size: 14px;font-family: monospace;">const b = 2</span>  \u5b9a\u4e49\u7b80\u5355\u6570\u636e\u7c7b\u578b\u65f6\uff0c\u503c\u5c31\u76f8\u5f53\u4e8e <code>const</code> \u5bf9\u8c61\u7684\u6307\u9488\uff0c\u5982\u679c\u8fd9\u4e2a\u503c\u6539\u53d8\u4e86\uff0c\u90a3\u4e48\u6307\u9488\u5c31\u6539\u53d8\u4e86\uff0c\u6240\u4ee5\u6b64\u65f6\u4e0d\u80fd\u6539\u53d8\u5e38\u91cf\u7684\u503c\u3002</p>\n<p>\u7531\u6b64\u53ef\u89c1\uff0c<code>const</code> \u4fdd\u8bc1\u7684\u53ea\u662f\u5b9a\u4e49\u7684 \u6307\u9488\u4fdd\u6301\u4e0d\u53d8\uff0c\u5e76\u4e0d\u662f\u786e\u4fdd\u503c\u4e0d\u53d8\u3002</p>\n<p>\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48 const\u3001let \u5b9a\u4e49\u7684\u53d8\u91cf\u4e0d\u80fd\u4e8c\u6b21\u58f0\u660e\uff0c\u56e0\u4e3a\u7528const\u3001let \u58f0\u660e\u53d8\u91cf\u7684\u65f6\u5019\u90fd\u4f1a\u5148\u53bb\u5185\u5b58\u4e2d\uff08\u6808\u5185\u5b58\u3001\u5806\u5185\u5b58\uff09\u4e2d\u67e5\u627e\u662f\u5426\u5b58\u5728\u8be5\u53d8\u91cf\u540d\uff0c\u5982\u679c\u5b58\u5728\u5c31\u62a5\u9519\uff0c\u4e0d\u5b58\u5728\u5219\u5206\u914d\u65b0\u7684\u7a7a\u95f4\u5b58\u50a8\u8be5\u53d8\u91cf\u7684\u503c\u3002</p>\n<h3><span style="color: rgb(209,72,65);background-color: rgb(255,255,255);font-size: 14px;">\u5f88\u5bb9\u6613\u5ffd\u7565\u7684\u4e00\u70b9</span>&nbsp;</h3>\n<pre>var a = new String(\'123\')<br>var b = String(\'123\')<br>var c = \'123\'<br>console.log(a==b, a===b, b==c, b===c, a==c, a===c)  <br>&gt;&gt;&gt; true false true true true false<br>console.log(typeof a)<br>&gt;&gt;&gt; \'object\'</pre>\n<p><span style="color: rgb(209,72,65);">\u8fd9\u662f\u4e3a\u4ec0\u4e48 \uff1f</span></p>\n<p>new\u64cd\u4f5c\u7b26\u662f\u6839\u636e\u6784\u9020\u51fd\u6570\u751f\u6210\u5b9e\u4f8b\u7684\uff0c\u751f\u6210\u7684\u662f<span style="color: rgb(209,72,65);">\u5bf9\u8c61</span>\uff0c\u800c\u4e0d\u662f\u57fa\u672c\u7c7b\u578b\uff0c\u6240\u4ee5\u4e5f\u5c31\u89e3\u91ca\u4e86\u4e0a\u9762\u8f93\u51fa\u3002</p>\n<pre>var a = new String(\'123\')<br>var b = new String(\'123\')<br>console.log(a==b, a===b)<br>&gt;&gt;&gt; false false</pre>\n<p>\u5f88\u660e\u663e\uff0c\u5982\u679c <code>a\u3001b</code> \u662f\u5b58\u50a8\u5728\u6808\u5185\u5b58\u7684\u8bdd\uff0c\u5219\u4e24\u8005\u5e94\u8be5\u60f3\u7b49\uff0c\u8bf4\u660e\u4e24\u8005\u662f <code>object</code> \u7c7b\u578b\uff0c\u5b58\u5728\u5806\u5185\u5b58</p>\n<p>\u5176\u5b9e\uff0c\u6211\u4eec\u6240\u8bf4\u7684\u503c\u7684\u7c7b\u578b\u548c\u5f15\u7528\u7c7b\u578b\u3001\u503c\u4f20\u9012\u3001\u5f15\u7528\u4f20\u9012\u3001\u6d45\u62f7\u8d1d\u3001\u6df1\u62f7\u8d1d\uff0c\u90fd\u662f\u56f4\u7ed5\u6808\u5806\u5185\u5b58\u5c55\u5f00\u7684\uff0c\u4e00\u4e2a\u662f\u5904\u7406\u503c\u3001\u4e00\u4e2a\u662f\u5904\u7406\u6307\u9488\u3002</p>\n<h3 style="text-align:start;"><span style="color: rgb(209,72,65);">\u8bf4\u5230\u8fd9\u91cc\u5c31\u8fd8\u53ef\u4ee5\u626f\u4e0b\u5185\u5b58\u5206\u914d\u548c\u5783\u573e\u56de\u6536</span></h3>\n<p>\u4e00\u822c\u6765\u8bf4\u6808\u5185\u5b58\u662f\u7ebf\u6027\u6709\u5e8f\u5b58\u50a8\u3001\u5bb9\u91cf\u5c0f\uff0c\u7cfb\u7edf\u5206\u914d\u6548\u679c\u9ad8\uff0c\u800c\u5806\u5185\u5b58\u9996\u5148\u8981\u5728\u5806\u5185\u5b58\u4e2d\u5206\u914d\u65b0\u7684\u5b58\u50a8\u533a\u57df\uff0c\u4e4b\u540e\u53c8\u8981\u628a\u6307\u9488\u5b58\u50a8\u5230\u6808\u5185\u5b58\u4e2d\uff0c\u76f8\u5bf9\u6765\u8bf4\u6548\u76ca\u5c31\u4f4e\u4e86\u70b9\u3002\u4e0d\u53ef\u80fd\u4e00\u76f4\u5b58\u50a8\u53d8\u91cf\uff0c\u4e0d\u56de\u6536\u53d8\u91cf\uff0c\u8fd9\u6837\u4f1a\u5f71\u54cd\u6027\u80fd\uff0c\u90a3\u6211\u4eec\u5c31\u53ef\u4ee5\u628a\u5df2\u7ecf\u65e0\u7528\u7684\u53d8\u91cf\u8fdb\u884c\u56de\u6536\u3002</p>\n<p>\u5783\u573e\u56de\u6536\u65b9\u9762\uff0c\u6808\u5185\u5b58\u4e2d\u7684\u53d8\u91cf\u57fa\u672c\u4e0a\u7528\u5b8c\u5c31\u56de\u6536\u4e86\uff0c\u800c\u5806\u5185\u5b58\u4e2d\u7684\u53d8\u91cf\u56e0\u4e3a\u53ef\u80fd\u5b58\u5728\u5f88\u591a\u4e0d\u786e\u5b9a\u7684\u5f15\u7528\uff0c\u53ea\u8981\u5f53\u6240\u6709\u5f15\u7528\u7684\u53d8\u91cf\u90fd\u9500\u6bc1\u4e4b\u540e\u624d\u80fd\u56de\u6536\u3002</p>\n<p>\u5e38\u7528\u5783\u573e\u56de\u6536\u65b9\u5f0f\uff1a\u5f15\u7528\u8ba1\u6570\u3001\u6807\u8bb0\u6e05\u9664</p>\n<h3><span style="color: rgb(209,72,65);">\u5230\u8fd9\u91cc\u6709\u53ef\u4ee5\u8bf4\u5230\u95ed\u5305\u4e86~~~</span></h3>\n<h3><span style="color: rgb(209,72,65);">\u8bf4\u5230\u95ed\u5305\u4e5f\u53ef\u4ee5\u626f\u626f\u9632\u6296\u548c\u8282\u6d41~~~</span></h3>\n<h2><span style="color: rgb(209,72,65);">\u77e5\u8bc6\u70b9\u90fd\u662f\u76f8\u5173\u8054\u7684\uff0c\u4e00\u8def\u5e26\u4e00\u8def~~~</span></h2>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n'},{createdAt:"2019-04-10 18:50",updatedAt:"2020-02-25 13:19",id:4,title:"JS \u6570\u7ec4\u53bb\u91cd",readedCount:66,author:"Gong",summary:"\u6570\u7ec4\u53bb\u91cd\u7684\u591a\u79cd\u65b9\u5f0f",category:["\u524d\u7aef"],tag:["JS"],content:"<p>\u6570\u7ec4\u53bb\u91cd\u5728\u9879\u76ee\u4e2d\u4e5f\u662f\u5e38\u89c1\u7684\u9700\u6c42\uff0c\u4e00\u822c\u90fd\u662f\u540e\u7aefSQL\u505a\u5904\u7406\u4e86\uff0c\u90a3\u4e48\u524d\u7aef\u5904\u7406\u7684\u8bdd\uff0c\u8be5\u600e\u4e48\u505a\u5462\uff1f</p>\n<h2>\u53cc\u91cd\u5faa\u73af</h2>\n<pre>&nbsp;&nbsp;const unique = arr =&gt; {<br>    let newArray = []<br>    let i = 0,<br>        isRepeat = false,<br>        len = arr.length<br>    for (i; i &lt; len; i++) {<br>      isRepeat = false<br>      let j = 0,<br>          newLen = newArray.length<br>      for (j; j &lt; newLen; j ++) {<br>        if (arr[i] === newArray[j]) {<br>          isRepeat = true<br>          break<br>        }<br>      }<br>      !isRepeat &amp;&amp; newArray.push(arr[i])<br>    }<br>    return newArray<br>  }</pre>\n<h2>forEach+includes</h2>\n<pre>&nbsp;const unique = arr =&gt; {<br>    let newArr = []<br>    arr.forEach(item =&gt;  !newArr.includes(item) &amp;&amp; newArr.push(item))<br>    return newArr<br>  }</pre>\n<h2>sort\u5148\u6392\u5e8f\uff0c\u518d\u5224\u65ad\u76f8\u90bb\u7684\u5143\u7d20\u662f\u5426\u76f8\u7b49</h2>\n<pre>const unique = arr =&gt; {<br>    let newArr = []<br>    arr.sort()<br>    arr.forEach((item, i) =&gt; {<br>      item !== arr[i+1] &amp;&amp; newArr.push(item)<br>    })<br>    return newArr<br>  }</pre>\n<h2>filter+indexof</h2>\n<pre>const unique = arr =&gt; {<br>    return arr.filter((item, index) =&gt; arr.indexOf(item) === index)<br>  }</pre>\n<h2>reduce</h2>\n<pre>const unique = arr =&gt; {<br>  return arr.reduce((pre, cur) =&gt; {<br>    !pre.includes(cur) &amp;&amp; pre.push(cur)<br>    return pre<br>  }, [])<br>}</pre>\n<h2>set</h2>\n<pre>const unique = arr =&gt; [...new Set(arr)]</pre>\n"},{createdAt:"2019-03-31 15:53",updatedAt:"2020-03-02 13:47",id:3,title:"node + koa + mysql \u642d\u5efa\u535a\u5ba2 server \u7aef",readedCount:314,author:"Gong",summary:"\u57fa\u4e8e koa2 \u6846\u67b6\u6784\u5efa noder server\u3001sequelize \u64cd\u4f5c\u6570\u636e\u5e93\uff0c\u4e3aweb\u7aef\u63d0\u4f9b\u63a5\u53e3\u670d\u52a1 ",category:["\u670d\u52a1\u7aef","\u6570\u636e\u5e93"],tag:["Koa","Mysql","Sequelize","Node"],content:"<h3>koa-generator \u642d\u5efanode\u670d\u52a1\u5668</h3>\n<p>\u901a\u8fc7 koa-generator \u6784\u5efa\u9879\u76ee\uff0c\u5168\u5c40\u5b89\u88c5</p>\n<pre>npm install -g koa-generato</pre>\n<p>\u521b\u5efa node-server \u9879\u76ee</p>\n<pre>koa node-server&nbsp;</pre>\n<p>\u8fdb\u5165\u9879\u76ee</p>\n<pre>cd node-server&nbsp;</pre>\n<p>\u5b89\u88c5\u4f9d\u8d56</p>\n<pre>npn install</pre>\n<p>\u8fd0\u884c</p>\n<pre>npm dev</pre>\n<p>\u8bbf\u95ee</p>\n<pre>&nbsp;localhost:3000</pre>\n<p><span style=\"color: rgb(0,0,0);font-family: Lucida Grande;\">\u51fa\u73b0 Hello Koa 2!\uff0c\u5219\u8868\u660e\u9879\u76ee\u8fd0\u884c\u6210\u529f</span>&nbsp;</p>\n<p>\u5148\u770broutes\u6587\u4ef6</p>\n<p>index.js</p>\n<pre>const router = require('koa-router')()<br>router.get('/', async (ctx, next) =&gt; {<br>  await ctx.render('index', {<br>    title: 'Hello Koa 2!'<br>  })<br>})<br>router.get('/string', async (ctx, next) =&gt; {<br>  ctx.body = 'koa2 string'<br>})<br>router.get('/json', async (ctx, next) =&gt; {<br>  ctx.body = {<br>    title: 'koa2 json'<br>  }<br>})<br>module.exports = router</pre>\n<p>users.js</p>\n<pre>const router = require('koa-router')()<br>router.prefix('/users')<br>router.get('/', function (ctx, next) {<br>  ctx.body = 'this is a users response!'<br>})<br>router.get('/bar', function (ctx, next) {<br>  ctx.body = 'this is a users/bar response'<br>})<br>module.exports = router</pre>\n<p>\u5206\u522b\u8bbf\u95ee\u4e0b\u5217\u8def\u7531\u8bd5\u8bd5</p>\n<pre>http://localhost:3000/string | http://localhost:3000/users | http://localhost:3000/bar</pre>\n<p>\u5927\u6982\u4f60\u5df2\u7ecf\u731c\u5230\u4e86\uff0ckoa-router \u5b9a\u4e49\u8def\u7531\u8bbf\u95ee\u65f6\u8fd4\u56de\u76f8\u5e94\u7684\u5185\u5bb9\uff0c\u90a3\u6211\u4eec\u53ea\u9700\u8981\u628a\u76f8\u5e94\u7684 data \u8fd4\u56de\u53bb\u5c31\u884c\u4e86\uff0c\u53ea\u662f\u6211\u4eec\u7684\u6570\u636e\u5f97\u4ece\u6570\u636e\u5e93\u67e5\u8be2\u51fa\u6765\u3002</p>\n<p>\u672c\u5730\u5b89\u88c5\u6570\u636e\u5e93\u6b64\u5904\u5c31\u4e0d\u518d\u7ec6\u8bf4\u4e86\uff0c\u67e5\u9605\u8d44\u6599\u53ef\u81ea\u884c\u5b89\u88c5\u3002</p>\n<p><a href=\"https://pan.baidu.com/s/1v18a7Z0E-VjM--oxmfwdFA\" target=\"_blank\">mysql\u53ef\u89c6\u5316\u5de5\u5177 Navicat</a>   \u63d0\u53d6\u7801\uff1aekzr</p>\n<p>\u5b89\u88c5\u540e\u94fe\u63a5\u672c\u5730mysql</p>\n<p><span style=\"color: rgba(0,0,0,0.65);background-color: rgb(255,255,255);font-size: 14px;\">\u9879\u76ee\u5b89\u88dd mysql</span>&nbsp;</p>\n<pre>npm install mysql --save</pre>\n<p><span style=\"color: rgba(0,0,0,0.65);background-color: rgb(255,255,255);font-size: 14px;\">\u5b89\u88dd </span><span style=\"color: rgb(0,0,0);background-color: rgb(255,255,255);font-size: 14px;font-family: monospace;\">sequelize</span>&nbsp;</p>\n<pre>npm install --save sequelize</pre>\n<p><a href=\"https://itbilu.com/nodejs/npm/VkYIaRPz-.html#induction-install\" target=\"_blank\">sequelize \u4e2d\u6587\u6587\u6863</a>   |  <a href=\"http://docs.sequelizejs.com/\" target=\"_blank\">sequelizejs \u82f1\u6587\u6587\u6863</a>&nbsp;</p>\n<p>\u65b0\u5efa sequelize.js\uff0c\u5efa\u7acb\u8fde\u63a5\u6c60</p>\n<pre>const Sequelize = require('sequelize');<br>const sequelize = new Sequelize('dev', 'root', '123456', {<br>  host: 'localhost',<br>  dialect: 'mysql',<br>  operatorsAliases: false,<br>  pool: {<br>    max: 5,<br>    min: 0,<br>    acquire: 30000,<br>    idle: 10000<br>  }<br>})<br>sequelize<br>  .authenticate()<br>  .then(() =&gt; {<br>    console.log('MYSQL \u8fde\u63a5\u6210\u529f......');<br>  })<br>  .catch(err =&gt; {<br>    console.error('\u94fe\u63a5\u5931\u8d25:', err);<br>  });<br>// \u6839\u636e\u6a21\u578b\u81ea\u52a8\u521b\u5efa\u8868<br>sequelize.sync()<br>module.exports = sequelize</pre>\n<p>\u521b\u5efa model\u3001controllers \u6587\u4ef6\u5939 \u5b9a\u4e49model\uff1a\u5b9a\u4e49\u8868\u7ed3\u6784\uff1b<span style=\"color: rgba(0,0,0,0.65);background-color: rgb(255,255,255);font-size: 14px;\">controller\uff1a\u5b9a\u4e49\u5bf9\u6570\u636e\u5e93\u7684\u67e5\u8be2\u65b9\u6cd5</span></p>\n<img src=\"https://upload-images.jianshu.io/upload_images/7256750-18968aeb5a1b5ddb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"undefined\" style=\"float:left;height: auto;width: auto\"/>\n<p>\u4ee5tag.js\u4e3a\u4f8b</p>\n<p>model\uff1atag.js</p>\n<pre>const sequelize = require('../sequelize ')<br>const Sequelize = require('sequelize')<br>const moment = require('moment') // \u65e5\u671f\u5904\u7406\u5e93<br>// \u5b9a\u4e49\u8868\u7ed3\u6784<br>const tag = sequelize.define('tag', { <br>  id: {<br>    type: Sequelize.INTEGER(11), // \u8bbe\u7f6e\u5b57\u6bb5\u7c7b\u578b<br>    primaryKey: true, // \u8bbe\u7f6e\u4e3a\u4e3b\u5efa<br>    autoIncrement: true // \u81ea\u589e<br>  },<br>  name: {<br>    type: Sequelize.STRING,<br>    unique: { // \u552f\u4e00<br>      msg: '\u5df2\u6dfb\u52a0'<br>    }<br>  },<br>  createdAt: {<br>    type: Sequelize.DATE,<br>    defaultValue: Sequelize.NOW,<br>    get() {<br>      return moment(this.getDataValue('createdAt')).format('YYYY-MM-DD HH:mm') // this.getDataValue \u83b7\u53d6\u5f53\u524d\u5b57\u6bb5value<br>    }<br>  },<br>  updatedAt: {<br>    type: Sequelize.DATE,<br>    defaultValue: Sequelize.NOW,<br>    get() {<br>      return moment(this.getDataValue('updatedAt')).format('YYYY-MM-DD HH:mm')<br>    }<br>  }<br>},<br>{<br>  freezeTableName: true // sequelize\u4f1a\u81ea\u52a8\u4f7f\u7528\u4f20\u5165\u7684\u6a21\u578b\u540d\uff08define\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff09\u7684\u590d\u6570\u505a\u4e3a\u8868\u540d \u8bbe\u7f6etrue\u53d6\u6d88\u9ed8\u8ba4\u8bbe\u7f6e<br>})<br>module.exports = tag</pre>\n<p><span style=\"color: rgba(0,0,0,0.65);background-color: rgb(255,255,255);font-size: 14px;\">controller:</span> tag.s  \u5b9a\u4e49\u4e86 create\u3001findAll\u3001findAndCountAll\u3001destroy \u65b9\u6cd5</p>\n<pre>const Tag = require('../model/tag')<br>const Op = require('sequelize').Op<br>const listAll = async (ctx) =&gt; {<br>  const data = await Tag.findAll()<br>  ctx.body = {<br>    code: 1000,<br>    data<br>  }<br>}<br>const list = async (ctx) =&gt; {<br>  const query = ctx.query<br>  const where = {<br>    name: {<br>      [Op.like]: `%${query.name}%`<br>    }<br>  }<br>  const {rows:data, count: total } = await Tag.findAndCountAll({<br>    where,<br>    offset: (+query.pageNo - 1) * +query.pageSize,<br>    limit: +query.pageSize,<br>    order: [<br>      ['createdAt', 'DESC']<br>    ]<br>  })<br>  ctx.body = {<br>    data,<br>    total,<br>    code: 1000,<br>    desc: 'success'<br>  }<br>}<br>const create = async (ctx) =&gt; {<br>  const params = ctx.request.body<br>  if (!params.name) {<br>    ctx.body = {<br>      code: 1003,<br>      desc: '\u6807\u7b7e\u4e0d\u80fd\u4e3a\u7a7a'<br>    }<br>    return false<br>  }<br>  try {<br>    await Tag.create(params)<br>    ctx.body = {<br>      code: 1000,<br>      data: '\u521b\u5efa\u6210\u529f'<br>    }<br>  }<br>  catch(err) {<br>    const msg = err.errors[0]<br>    ctx.body = {<br>      code: 300,<br>      data: msg.value + msg.message<br>    }<br>  }<br>}<br>const destroy = async ctx =&gt; {<br>  await Tag.destroy({where: ctx.request.body})<br>  ctx.body = {<br>    code: 1000,<br>    desc: '\u5220\u9664\u6210\u529f'<br>  }<br>}<br>module.exports = {<br>  list,<br>  create,<br>  listAll,<br>  destroy<br>}</pre>\n<p>\u5728 routers \u6587\u4ef6\u5939 index.js \u4e2d\u5f15\u5165\u5b9a\u4e49\u597d\u7684 tag <span style=\"color: rgba(0,0,0,0.65);background-color: rgb(255,255,255);font-size: 14px;\">controller</span> \uff0c\u5b9a\u4e49\u8def\u7531</p>\n<pre>const router = require('koa-router')()<br>const Tag = require('../controllers/tag')<br>// tag<br>router.get('/tag/list', Tag.list)<br>router.get('/tag/list/all', Tag.listAll)<br>router.post('/tag/create', Tag.create)<br>router.post('/tag/destroy', Tag.destroy)<br>module.exports = router<br>/* \u5982\u6bcf\u4e2a route \u662f\u5355\u72ec\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528 router.prefix \u5b9a\u4e49\u8def\u7531\u524d\u7f00<br>router.prefix('/tag')<br>router.get('/list', Tag.list)<br>router.get('/list/all', Tag.listAll)<br>router.post('/create', Tag.create)<br>router.post('/destroy', Tag.destroy)<br>*/</pre>\n<p>\u56e0\u4e3a app \u4e2d \u5df2\u7ecf\u5f15\u5165 <span style=\"color: rgba(0,0,0,0.65);background-color: rgb(255,255,255);font-size: 14px;\">routers </span> \u4e2d\u7684 index.js \u8c03\u7528\u4e86 app.use\u4e86\uff0c\u6240\u4ee5\u6b64\u5904\u4e0d\u9700\u518d\u5f15\u5165</p>\n<p>\u5728\u6d4f\u89c8\u5668\u91cc\u8f93\u5165 localhost:3000/tag/list \u5c31\u53ef\u4ee5\u770b\u5230\u8fd4\u56de\u7684\u6570\u636e\u7ed3\u6784\u4e86\uff0c\u53ea\u4e0d\u8fc7 data \u4e3a\u7a7a\u6570\u7ec4\uff0c\u56e0\u4e3a\u6211\u4eec\u8fd8\u6ca1\u6dfb\u52a0\u8fdb\u53bb\u4efb\u4f55\u6570\u636e</p>\n<h4>\u5230\u8fd9\u91cc\uff0cmodel \u5b9a\u4e49\u8868\u7ed3\u6784\u3001sequelize\u64cd\u4f5c\u6570\u636e\u5e93\u3001koa-router \u5b9a\u4e49\u8def\u7531 \u8fd9\u4e00\u5957\u6d41\u7a0b\u7b97\u662f\u5b8c\u6210\u4e86\uff0c\u5176\u4ed6\u8868\u7ed3\u6784\uff0c\u63a5\u53e3 \u90fd\u662f\u4e00\u6837\u5b9a\u4e49\u7684</h4>\n<p><a href=\"https://github.com/gzwgq222/blog-server\" target=\"_blank\">blog-server \u6e90\u7801</a>&nbsp;</p>\n<p>\u6709\u95ee\u9898\u6b22\u8fce\u63d0 <a href=\"https://github.com/gzwgq222/blog-server/issues\" target=\"_blank\">Issues </a>&nbsp;</p>\n<p>\u9519\u8bef\u4e4b\u5904\uff0c\u671b\u65a7\u6b63</p>\n<p>\u89c9\u5f97\u4e0d\u9519\u6216\u5bf9\u4f60\u6709\u5e2e\u52a9\uff0c<a href=\"https://github.com/gzwgq222/blog-server\" target=\"_blank\">\u6b22\u8fce star</a>&nbsp;</p>\n"}]},t}return Object(p.a)(r,e),Object(n.a)(r,[{key:"render",value:function(){return console.log(this.state.data),l.a.createElement("div",{className:"article-timeLine"},l.a.createElement(i.a,null,l.a.createElement(I,{style:{paddingTop:"15px",paddingLeft:"20px"}},l.a.createElement(I.Item,{dot:l.a.createElement(V,{style:{fontSize:"16px"}}),color:"red"},l.a.createElement("span",{style:{fontSize:"20px"}},"2019")),this.state.data.map((function(e){return l.a.createElement(I.Item,{style:{color:"#1890ff",cursor:"pointer"},key:e.id},e.createdAt.substring(0,e.createdAt.indexOf(" ")),"\xa0\xa0\xa0\xa0\xa0\xa0".concat(e.title))})))))}}]),r}(c.Component);r.default=Y}}]);
//# sourceMappingURL=10.737d53b5.chunk.js.map